# relay configuration

# app
DEBUG=false
PORT=8001
FRONTEND_URL=http://localhost:5173
# FRONTEND_CORS_ORIGIN_REGEX=  # optional regex pattern for CORS (defaults to relay-4i6.pages.dev + localhost)

# branding (optional)
# backend branding settings
# APP_NAME=relay
# APP_TAGLINE=music streaming on atproto
# CANONICAL_HOST=relay.zzstoatzz.io
# CANONICAL_URL_OVERRIDE=
# BROADCAST_CHANNEL_PREFIX=relay

# frontend branding (requires VITE_ prefix for SvelteKit)
# VITE_APP_NAME=relay
# VITE_APP_TAGLINE=music streaming on atproto
# VITE_APP_CANONICAL_HOST=relay.zzstoatzz.io
# VITE_APP_CANONICAL_URL=
# VITE_APP_BROADCAST_PREFIX=relay

# database
DATABASE_URL=postgresql+asyncpg://localhost/relay

# storage
STORAGE_BACKEND=filesystem  # or "r2"

# cloudflare r2 (only needed if STORAGE_BACKEND=r2)
AWS_ACCESS_KEY_ID=your_r2_access_key_id
AWS_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_BUCKET=relay-audio
R2_ENDPOINT_URL=https://<account_id>.r2.cloudflarestorage.com
R2_PUBLIC_BUCKET_URL=https://audio.relay.example.com

# atproto
ATPROTO_PDS_URL=https://bsky.social
ATPROTO_CLIENT_ID=
ATPROTO_CLIENT_SECRET=
ATPROTO_REDIRECT_URI=http://localhost:8000/auth/callback
OAUTH_ENCRYPTION_KEY=  # base64-encoded 32-byte key (required for production)

# atproto namespace (optional - defaults to app.relay)
# ATPROTO_APP_NAMESPACE=io.zzstoatzz.relay
# ATPROTO_SCOPE_OVERRIDE=  # override computed oauth scope if needed

# observability (optional)
# LOGFIRE_ENABLED=false
# LOGFIRE_WRITE_TOKEN=
# LOGFIRE_ENVIRONMENT=local

# notifications (optional - bluesky DMs)
# NOTIFY_ENABLED=false
# NOTIFY_RECIPIENT_HANDLE=
# NOTIFY_BOT_HANDLE=
# NOTIFY_BOT_PASSWORD=
